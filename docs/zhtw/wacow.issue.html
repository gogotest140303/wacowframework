<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Issues</title>
</head>

<body>
<h1>Issue</h1>
<h2> 動態對應 Template 或 Template Cache 所在的資料夾</h2>
<p><span id="st" name="st" class="st">Wacow</span> 0.0.1 版會遇到一個問題，就是如果各模組底下分別有同一個名字的樣版時，那麼這個樣版的 Smarty 快取檔會造成衝突。</p>
<p> 目前思考兩個方向來解決：</p>
<ol>
<li> 動態對應 Template 所在的資料夾，另外應該還要有一個 common view 來存放共用的樣版。</li>
<li> 將 Template Cache 放到個別模組的資料夾。</li>
</ol>
<h2>後台模組在新增修改刪除時的 Event</h2>
<p>如何管理後台模組在新增修改刪除時的 Event ？例如完成新增時，對應的筆數要加一；相反地在刪除時，對應的筆數要減一。或是記錄 Log 、刪除對應圖片等等。</p>
<p>想法：</p>
<ol>
<li>利用 Observer 模式，將新增、修改、刪除的動作與資料包在一個 Observable 的類別裡，在動作發生時，處理相關動作。</li>
<li>利用 Mixin 模式，處理動作發生時應該要處理的部份。</li>
<li>利用 AOP 模式。 </li>
</ol>
<h2>判斷 config.ini 是否有改變</h2>
<ol>
<li> 利用 filemtime 函式判斷 config.ini 修改時間，並寫入 cache 檔。</li>
<li> 第二次執行時，發現 filemtime 和 cache 中的不符時就刪除 cache 並重讀 config.ini ；否則就維持原狀。</li>
</ol>
<h2>模組自動尋找功能</h2>
<p>當在 /app/modules 下建立一個新模組時，程式是否需要自動尋找？</p>
<ol>
<li> 需不需要快取？</li>
<li> 如何減少尋找時間？</li>
<li> 不需在 config.ini 再寫入模組定義。</li>
</ol>
<h2>樣版</h2>
<p>需要自訂一組樣版標籤來隱藏 Smarty 一些較為複雜的語法，並且在裡面直接與 Action Controller 溝通。 </p>
<p>例如：</p>
<pre>
<strong>動態載入區塊</strong>
&lt;wa:block file=&quot;/path/to/templatefile&quot; bind=&quot;method:test&quot; cachetime=&quot;200&quot; /&gt;

<strong>連結</strong>
&lt;wa:link path=&quot;/path/to/action&quot;&gt;Link Text&lt;/wa:link&gt;

<strong>彈出視窗</strong>
&lt;wa:popup iframe=&quot;yes&quot; src=&quot;/path/to/some.html&quot; width=&quot;200&quot; height=&quot;100&quot;&gt;Link Text&lt;/wa:popup&gt;

<strong>表單 (自動與後端 PHP 程式驗證結合)</strong>
&lt;wa:form action=&quot;/action&quot; method=&quot;post&quot;&gt;
&lt;wa:text name=&quot;text1&quot; mutiple=&quot;yes&quot; /&gt;
&lt;wa:select name=&quot;select1&quot; mutiple=&quot;yes&quot; bind=&quot;abc&quot; /&gt;
&lt;wa:editable name=&quot;editable1&quot;&gt;Text&lt;/wa:editable&gt;
&lt;wa:htmleditor name=&quot;html1&quot;&gt;&lt;/wa:htmleditor&gt;
&lt;wa:downlist name=&quot;category1&quot;&gt;&lt;/wa:downlist&gt;
&lt;wa:downlist name=&quot;category2&quot; bind=&quot;category1&quot;&gt;&lt;/wa:downlist&gt;
&lt;/wa:form&gt;

<strong>動態載入 JavaScript 及 CSS</strong>
&lt;wa:js name=&quot;jquery.thickbox&quot; required=&quot;jquery&quot; /&gt; &lt;!-- 自動抓取 /public/scripts/jquery/thickbox.js --&gt;
&lt;wa:css name=&quot;admin.user&quot; /&gt; &lt;!-- 自動抓取 /public/styles/admin/user.css --&gt;

<strong>資料顯示</strong>
&lt;wa:datagrid name=&quot;datagrid1&quot; bind=&quot;cars&quot;&gt;
&lt;wa:column name=&quot;title&quot;&gt;
Custom style of colunm
&lt;/wa:column&gt;
&lt;wa:function&gt;
&lt;wa:link path=&quot;/add&quot;&gt;Add Row&lt;/wa:link&gt;
&lt;/wa:function&gt;
&lt;/wa:datagrid&gt;
</pre>
<p>&nbsp;</p>
</body>
</html>
